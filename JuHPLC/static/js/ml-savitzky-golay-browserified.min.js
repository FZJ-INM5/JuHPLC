(function M(I,S,R){function D(E,P){if(!S[E]){if(!I[E]){var O="function"==typeof require&&require;if(!P&&O)return O(E,!0);if(A)return A(E,!0);var T=new Error("Cannot find module '"+E+"'");throw T.code="MODULE_NOT_FOUND",T}var F=S[E]={exports:{}};I[E][0].call(F.exports,function(Q){var _=I[E][1][Q];return D(_?_:Q)},F,F.exports,M,I,S,R)}return S[E].exports}for(var A="function"==typeof require&&require,L=0;L<R.length;L++)D(R[L]);return D})({1:[function(M){function D(L,E,P,O){return 0==P&&0==O?1:0==P?0:(4*P-2)/(P*(2*E-P+1))*(L*D(L,E,P-1,O)+O*D(L,E,P-1,O-1))-(P-1)*(2*E+P)/(P*(2*E-P+1))*D(L,E,P-2,O)}var A=M("ml-savitzky-golay");window.GramPoly=D,window.SavitzkyGolayFilter=function(L,E){return A(L,1,E)}},{"ml-savitzky-golay":31}],2:[function(M,I){"use strict";var R=Object.prototype.hasOwnProperty,D=Object.prototype.toString,A=function(P){return"function"==typeof Array.isArray?Array.isArray(P):"[object Array]"===D.call(P)},L=function(P){if(!P||"[object Object]"!==D.call(P))return!1;var O=R.call(P,"constructor"),T=P.constructor&&P.constructor.prototype&&R.call(P.constructor.prototype,"isPrototypeOf");if(P.constructor&&!O&&!T)return!1;for(var F in P);return"undefined"==typeof F||R.call(P,F)};I.exports=function E(){var P,O,T,F,Q,_,G=arguments[0],W=1,K=arguments.length,Z=!1;for("boolean"==typeof G?(Z=G,G=arguments[1]||{},W=2):("object"!=typeof G&&"function"!=typeof G||null==G)&&(G={});W<K;++W)if(P=arguments[W],null!=P)for(O in P)T=G[O],F=P[O],G!==F&&(Z&&F&&(L(F)||(Q=A(F)))?(Q?(Q=!1,_=T&&A(T)?T:[]):_=T&&L(T)?T:{},G[O]=E(Z,_,F)):"undefined"!=typeof F&&(G[O]=F));return G}},{}],3:[function(M,I,S){"use strict";function R(D,A){return D-A}S.sum=function(A){for(var D=0,L=0;L<A.length;L++)D+=A[L];return D},S.max=function(A){for(var D=A[0],L=A.length,E=1;E<L;E++)A[E]>D&&(D=A[E]);return D},S.min=function(A){for(var D=A[0],L=A.length,E=1;E<L;E++)A[E]<D&&(D=A[E]);return D},S.minMax=function(A){for(var L=A[0],E=A[0],P=A.length,O=1;O<P;O++)A[O]<L&&(L=A[O]),A[O]>E&&(E=A[O]);return{min:L,max:E}},S.arithmeticMean=function(A){for(var L=0,E=A.length,P=0;P<E;P++)L+=A[P];return L/E},S.mean=S.arithmeticMean,S.geometricMean=function(A){for(var L=1,E=A.length,P=0;P<E;P++)L*=A[P];return Math.pow(L,1/E)},S.logMean=function(A){for(var L=0,E=A.length,P=0;P<E;P++)L+=Math.log(A[P]);return L/E},S.grandMean=function(A,L){for(var E=0,P=0,O=A.length,T=0;T<O;T++)E+=L[T]*A[T],P+=L[T];return E/P},S.truncatedMean=function(A,L,E){E===void 0&&(E=!1),E||(A=[].concat(A).sort(R));for(var P=A.length,O=Math.floor(P*L),T=0,F=O;F<P-O;F++)T+=A[F];return T/(P-2*O)},S.harmonicMean=function(A){for(var L=0,E=A.length,P=0;P<E;P++){if(0===A[P])throw new RangeError("value at index "+P+"is zero");L+=1/A[P]}return E/L},S.contraHarmonicMean=function(A){for(var L=0,E=0,P=A.length,O=0;O<P;O++)L+=A[O]*A[O],E+=A[O];if(0>E)throw new RangeError("sum of values is negative");return L/E},S.median=function(A,L){L===void 0&&(L=!1),L||(A=[].concat(A).sort(R));var E=A.length,P=Math.floor(E/2);return 0==E%2?0.5*(A[P-1]+A[P]):A[P]},S.variance=function(A,L){L===void 0&&(L=!0);for(var F,E=S.mean(A),P=0,O=A.length,T=0;T<O;T++)F=A[T]-E,P+=F*F;return L?P/(O-1):P/O},S.standardDeviation=function(A,L){return Math.sqrt(S.variance(A,L))},S.standardError=function(A){return S.standardDeviation(A)/Math.sqrt(A.length)},S.robustMeanAndStdev=function(A){var L=0,E=0,P=A.length,O=0;for(O=0;O<P;O++)L+=A[O];L/=P;var T=Array(P);for(O=0;O<P;O++)T[O]=Math.abs(A[O]-L);return T.sort(R),E=1==P%2?T[(P-1)/2]/0.6745:0.5*(T[P/2]+T[P/2-1])/0.6745,{mean:L,stdev:E}},S.quartiles=function(A,L){"undefined"==typeof L&&(L=!1),L||(A=[].concat(A).sort(R));var E=A.length/4,P=A[Math.ceil(E)-1],O=S.median(A,!0),T=A[Math.ceil(3*E)-1];return{q1:P,q2:O,q3:T}},S.pooledStandardDeviation=function(A,L){return Math.sqrt(S.pooledVariance(A,L))},S.pooledVariance=function(A,L){"undefined"==typeof L&&(L=!0);for(var E=0,P=0,O=A.length,T=0;T<O;T++){var F=A[T],Q=S.variance(F);E+=(F.length-1)*Q,P+=L?F.length-1:F.length}return E/P},S.mode=function(A){var P,L=A.length,E=Array(L);for(P=0;P<L;P++)E[P]=0;var O=Array(L),T=0;for(P=0;P<L;P++){var F=O.indexOf(A[P]);0<=F?E[F]++:(O[T]=A[P],E[T]=1,T++)}var Q=0,_=0;for(P=0;P<T;P++)E[P]>Q&&(Q=E[P],_=P);return O[_]},S.covariance=function(A,L,E){"undefined"==typeof E&&(E=!0);var P=S.mean(A),O=S.mean(L);if(A.length!==L.length)throw"Vectors do not have the same dimensions";for(var T=0,F=A.length,Q=0;Q<F;Q++){var _=A[Q]-P,G=L[Q]-O;T+=_*G}return E?T/(F-1):T/F},S.skewness=function(A,L){"undefined"==typeof L&&(L=!0);for(var Q,E=S.mean(A),P=0,O=0,T=A.length,F=0;F<T;F++)Q=A[F]-E,P+=Q*Q,O+=Q*Q*Q;var _=P/T,G=O/T,W=G/Math.pow(_,3/2);if(L){var K=Math.sqrt(T*(T-1));return K/(T-2)*W}return W},S.kurtosis=function(A,L){"undefined"==typeof L&&(L=!0);for(var Q,E=S.mean(A),P=A.length,O=0,T=0,F=0;F<P;F++)Q=A[F]-E,O+=Q*Q,T+=Q*Q*Q*Q;var _=O/P,G=T/P;if(L){var W=O/(P-1),Z=T/(W*W);return P*(P+1)/((P-1)*(P-2)*(P-3))*Z-3*((P-1)*(P-1)/((P-2)*(P-3)))}return G/(_*_)-3},S.entropy=function(A,L){"undefined"==typeof L&&(L=0);for(var E=0,P=A.length,O=0;O<P;O++)E+=A[O]*Math.log(A[O]+L);return-E},S.weightedMean=function(A,L){for(var E=0,P=A.length,O=0;O<P;O++)E+=A[O]*L[O];return E},S.weightedStandardDeviation=function(A,L){return Math.sqrt(S.weightedVariance(A,L))},S.weightedVariance=function(A,L){for(var E=S.weightedMean(A,L),P=0,O=A.length,T=0,F=0,Q=0;Q<O;Q++){var _=A[Q]-E,G=L[Q];P+=G*(_*_),F+=G,T+=G*G}return P*(F/(F*F-T))},S.center=function(A,L){"undefined"==typeof L&&(L=!1);var E=A;L||(E=[].concat(A));for(var P=S.mean(E),O=E.length,T=0;T<O;T++)E[T]-=P},S.standardize=function(A,L,E){"undefined"==typeof L&&(L=S.standardDeviation(A)),"undefined"==typeof E&&(E=!1);for(var P=A.length,O=E?A:Array(P),T=0;T<P;T++)O[T]=A[T]/L;return O},S.cumulativeSum=function(A){var L=A.length,E=Array(L);E[0]=A[0];for(var P=1;P<L;P++)E[P]=E[P-1]+A[P];return E}},{}],4:[function(M,I,S){"use strict";S.array=M("./array"),S.matrix=M("./matrix")},{"./array":3,"./matrix":5}],5:[function(M,I,S){"use strict";function R(A,L){return A-L}var D=M("./array");S.max=function(L){for(var A=-Infinity,E=0;E<L.length;E++)for(var P=0;P<L[E].length;P++)L[E][P]>A&&(A=L[E][P]);return A},S.min=function(L){for(var A=Infinity,E=0;E<L.length;E++)for(var P=0;P<L[E].length;P++)L[E][P]<A&&(A=L[E][P]);return A},S.minMax=function(L){for(var E=Infinity,P=-Infinity,O=0;O<L.length;O++)for(var T=0;T<L[O].length;T++)L[O][T]<E&&(E=L[O][T]),L[O][T]>P&&(P=L[O][T]);return{min:E,max:P}},S.entropy=function(L,E){"undefined"==typeof E&&(E=0);for(var P=0,O=L.length,T=L[0].length,F=0;F<O;F++)for(var Q=0;Q<T;Q++)P+=L[F][Q]*Math.log(L[F][Q]+E);return-P},S.mean=function(L,E){"undefined"==typeof E&&(E=0);var T,F,Q,_,P=L.length,O=L[0].length;if(-1===E){for(T=[0],F=P*O,Q=0;Q<P;Q++)for(_=0;_<O;_++)T[0]+=L[Q][_];T[0]/=F}else if(0===E)for(T=Array(O),F=P,_=0;_<O;_++){for(T[_]=0,Q=0;Q<P;Q++)T[_]+=L[Q][_];T[_]/=F}else if(1===E)for(T=Array(P),F=O,_=0;_<P;_++){for(T[_]=0,Q=0;Q<O;Q++)T[_]+=L[_][Q];T[_]/=F}else throw new Error("Invalid dimension");return T},S.sum=function(L,E){"undefined"==typeof E&&(E=0);var T,F,Q,P=L.length,O=L[0].length;if(-1===E)for(T=[0],F=0;F<P;F++)for(Q=0;Q<O;Q++)T[0]+=L[F][Q];else if(0===E)for(T=Array(O),Q=0;Q<O;Q++)for(T[Q]=0,F=0;F<P;F++)T[Q]+=L[F][Q];else if(1===E)for(T=Array(P),Q=0;Q<P;Q++)for(T[Q]=0,F=0;F<O;F++)T[Q]+=L[Q][F];else throw new Error("Invalid dimension");return T},S.product=function(L,E){"undefined"==typeof E&&(E=0);var T,F,Q,P=L.length,O=L[0].length;if(-1===E)for(T=[1],F=0;F<P;F++)for(Q=0;Q<O;Q++)T[0]*=L[F][Q];else if(0===E)for(T=Array(O),Q=0;Q<O;Q++)for(T[Q]=1,F=0;F<P;F++)T[Q]*=L[F][Q];else if(1===E)for(T=Array(P),Q=0;Q<P;Q++)for(T[Q]=1,F=0;F<O;F++)T[Q]*=L[Q][F];else throw new Error("Invalid dimension");return T},S.standardDeviation=function(L,E,P){for(var O=S.variance(L,E,P),T=O.length,F=0;F<T;F++)O[F]=Math.sqrt(O[F]);return O},S.variance=function(L,E,P){"undefined"==typeof P&&(P=!0),E=E||S.mean(L);var O=L.length;if(0===O)return[];for(var T=L[0].length,F=Array(T),Q=0;Q<T;Q++){for(var _=0,G=0,W=0,K=0;K<O;K++)W=L[K][Q]-E[Q],_+=W,G+=W*W;F[Q]=P?(G-_*_/O)/(O-1):(G-_*_/O)/O}return F},S.median=function(L){for(var F,E=L.length,P=L[0].length,O=Array(P),T=0;T<P;T++){F=Array(E);for(var Q=0;Q<E;Q++)F[Q]=L[Q][T];F.sort(R);var _=F.length;O[T]=0==_%2?0.5*(F[_/2]+F[_/2-1]):F[Math.floor(_/2)]}return O},S.mode=function(L){var T,F,E=L.length,P=L[0].length,O=Array(P);for(T=0;T<P;T++){for(var Q=Array(E),_=0;_<E;_++)Q[_]=0;var G=Array(E),W=0;for(F=0;F<E;F++){var K=G.indexOf(L[F][T]);0<=K?Q[K]++:(G[W]=L[F][T],Q[W]=1,W++)}var Z=0,$=0;for(F=0;F<W;F++)Q[F]>Z&&(Z=Q[F],$=F);O[T]=G[$]}return O},S.skewness=function(L,E){"undefined"==typeof E&&(E=!0);for(var P=S.mean(L),O=L.length,T=P.length,F=Array(T),Q=0;Q<T;Q++){for(var K,_=0,G=0,W=0;W<O;W++)K=L[W][Q]-P[Q],_+=K*K,G+=K*K*K;var Z=_/O,$=G/O,ee=$/Math.pow(Z,3/2);if(E){var ie=Math.sqrt(O*(O-1));F[Q]=ie/(O-2)*ee}else F[Q]=ee}return F},S.kurtosis=function(L,E){"undefined"==typeof E&&(E=!0);for(var P=S.mean(L),O=L.length,T=L[0].length,F=Array(T),Q=0;Q<T;Q++){for(var K,_=0,G=0,W=0;W<O;W++)K=L[W][Q]-P[Q],_+=K*K,G+=K*K*K*K;var Z=_/O,$=G/O;if(E){var ee=_/(O-1),te=G/(ee*ee);F[Q]=O*(O+1)/((O-1)*(O-2)*(O-3))*te-3*((O-1)*(O-1)/((O-2)*(O-3)))}else F[Q]=$/(Z*Z)-3}return F},S.standardError=function(L){for(var E=L.length,P=S.standardDeviation(L),O=P.length,T=Array(O),F=Math.sqrt(E),Q=0;Q<O;Q++)T[Q]=P[Q]/F;return T},S.covariance=function(L,E){return S.scatter(L,void 0,E)},S.scatter=function(L,E,P){"undefined"==typeof P&&(P=0),"undefined"==typeof E&&(0===P?E=L.length-1:1==P&&(E=L[0].length-1));var O=S.mean(L,P),T=L.length;if(0===T)return[[]];var Q,_,G,W,K,F=L[0].length;if(0===P){for(Q=Array(F),_=0;_<F;_++)Q[_]=Array(F);for(_=0;_<F;_++)for(G=_;G<F;G++){for(W=0,K=0;K<T;K++)W+=(L[K][G]-O[G])*(L[K][_]-O[_]);W/=E,Q[_][G]=W,Q[G][_]=W}}else if(1===P){for(Q=Array(T),_=0;_<T;_++)Q[_]=Array(T);for(_=0;_<T;_++)for(G=_;G<T;G++){for(W=0,K=0;K<F;K++)W+=(L[G][K]-O[G])*(L[_][K]-O[_]);W/=E,Q[_][G]=W,Q[G][_]=W}}else throw new Error("Invalid dimension");return Q},S.correlation=function(L){var Q,_,E=S.mean(L),P=S.standardDeviation(L,!0,E),O=S.zScores(L,E,P),T=L.length,F=L[0].length,G=Array(F);for(Q=0;Q<F;Q++)G[Q]=Array(F);for(Q=0;Q<F;Q++)for(_=Q;_<F;_++){for(var W=0,K=0,Z=O.length;K<Z;K++)W+=O[K][_]*O[K][Q];W/=T-1,G[Q][_]=W,G[_][Q]=W}return G},S.zScores=function(L,E,P){return E=E||S.mean(L),"undefined"==typeof P&&(P=S.standardDeviation(L,!0,E)),S.standardize(S.center(L,E,!1),P,!0)},S.center=function(L,E,P){E=E||S.mean(L);var F,Q,_,O=L,T=L.length;if(!P)for(O=Array(T),F=0;F<T;F++)O[F]=Array(L[F].length);for(F=0;F<T;F++){var G=O[F];for(Q=0,_=G.length;Q<_;Q++)G[Q]=L[F][Q]-E[Q]}return O},S.standardize=function(L,E,P){"undefined"==typeof E&&(E=S.standardDeviation(L));var F,Q,_,O=L,T=L.length;if(!P)for(O=Array(T),F=0;F<T;F++)O[F]=Array(L[F].length);for(F=0;F<T;F++){var G=O[F],W=L[F];for(Q=0,_=G.length;Q<_;Q++)0===E[Q]||isNaN(E[Q])||(G[Q]=W[Q]/E[Q])}return O},S.weightedVariance=function(L,E){var P=S.mean(L),O=L.length;if(0===O)return[];for(var T=L[0].length,F=Array(T),Q=0;Q<T;Q++){for(var _=0,G=0,W=0,K=0;K<O;K++){var Z=L[K][Q]-P[Q],$=E[K];_+=$*(Z*Z),W+=$,G+=$*$}F[Q]=_*(W/(W*W-G))}return F},S.weightedMean=function(L,E,P){"undefined"==typeof P&&(P=0);var O=L.length;if(0===O)return[];var F,Q,_,G,W,K,T=L[0].length;if(0===P){for(F=Array(T),Q=0;Q<T;Q++)F[Q]=0;for(Q=0;Q<O;Q++)for(K=L[Q],W=E[Q],G=0;G<T;G++)F[G]+=K[G]*W}else if(1===P){for(F=Array(O),Q=0;Q<O;Q++)F[Q]=0;for(G=0;G<O;G++)for(K=L[G],W=E[G],Q=0;Q<T;Q++)F[G]+=K[Q]*W}else throw new Error("Invalid dimension");var Z=D.sum(E);if(0!==Z)for(Q=0,_=F.length;Q<_;Q++)F[Q]/=Z;return F},S.weightedCovariance=function(L,E,P,O){O=O||0,P=P||S.weightedMean(L,E,O);for(var T=0,F=0,Q=0,_=E.length;Q<_;Q++)T+=E[Q],F+=E[Q]*E[Q];var G=T/(T*T-F);return S.weightedScatter(L,E,P,G,O)},S.weightedScatter=function(L,E,P,O,T){T=T||0,P=P||S.weightedMean(L,E,T),"undefined"==typeof O&&(O=1);var F=L.length;if(0===F)return[[]];var _,G,W,K,Z,Q=L[0].length;if(0===T){for(_=Array(Q),G=0;G<Q;G++)_[G]=Array(Q);for(G=0;G<Q;G++)for(W=G;W<Q;W++){for(Z=0,K=0;K<F;K++)Z+=E[K]*(L[K][W]-P[W])*(L[K][G]-P[G]);_[G][W]=Z*O,_[W][G]=Z*O}}else if(1===T){for(_=Array(F),G=0;G<F;G++)_[G]=Array(F);for(G=0;G<F;G++)for(W=G;W<F;W++){for(Z=0,K=0;K<Q;K++)Z+=E[K]*(L[W][K]-P[W])*(L[G][K]-P[G]);_[G][W]=Z*O,_[W][G]=Z*O}}else throw new Error("Invalid dimension");return _}},{"./array":3}],6:[function(M,I){"use strict";function L(F){for(var Q=Array(F[0].length),_=0;_<Q.length;++_)Q[_]=Array(F.length);for(_=0;_<F.length;++_)for(var G=0;G<F[0].length;++G)Q[G][_]=F[_][G];return Q}const T=M("ml-stat").array;I.exports={coordArrayToPoints:function(F,Q){if(0!=F.length%Q)throw new RangeError("Dimensions number must be accordance with the size of the array.");for(var Z,_=F.length/Q,G=Array(_),W=0,K=0;K<F.length;K+=Q){Z=Array(Q);for(var $=0;$<Q;++$)Z[$]=F[K+$];G[W]=Z,W++}return G},coordArrayToCoordMatrix:function(F,Q){if(0!=F.length%Q)throw new RangeError("Dimensions number must be accordance with the size of the array.");for(var _=Array(Q),G=F.length/Q,W=0;W<_.length;W++)_[W]=Array(G);for(W=0;W<F.length;W+=Q)for(var Z,K=0;K<Q;++K)Z=Math.floor(W/Q),_[K][Z]=F[W+K];return _},coordMatrixToCoordArray:function(F){for(var Q=Array(F.length*F[0].length),_=0,G=0;G<F[0].length;++G)for(var W=0;W<F.length;++W)Q[_]=F[W][G],++_;return Q},coordMatrixToPoints:L,pointsToCoordArray:function(F){for(var Q=Array(F.length*F[0].length),_=0,G=0;G<F.length;++G)for(var W=0;W<F[0].length;++W)Q[_]=F[G][W],++_;return Q},pointsToCoordMatrix:L,applyDotProduct:function(F,Q){var _,G;F.length<=Q.length?(G=F,_=Q):(G=Q,_=F);for(var $,W=_.length-G.length+1,K=Array(W),Z=0;Z<W;++Z){$=0;for(var ee=0;ee<G.length;++ee)$+=G[ee]*_[Z+ee];K[Z]=$}return K},scale:function(F,Q){var _=Q.inPlace?F:Array(F.length);const G=Q.max,W=Q.min;if("number"==typeof G){if("number"==typeof W)for(var K=T.minMax(F),Z=(G-W)/(K.max-K.min),$=0;$<_.length;$++)_[$]=(F[$]-K.min)*Z+W;else for(var ee=T.max(F),Z=G/ee,$=0;$<_.length;$++)_[$]=F[$]*Z;}else if("number"==typeof W)for(var ee=T.min(F),Z=W/ee,$=0;$<_.length;$++)_[$]=F[$]*Z;return _}}},{"ml-stat":4}],7:[function(M,I,S){"use strict";function D(E,P,O,T,F){function Q(je,ke,xe,we){return(we-ke)/(xe-je)}var _=E.length,G=(T-O)/(F-1),K=O-G/2,Z=Array(F),$=E[1]-E[0],ee=E[E.length-1]-E[E.length-2],ie=K,te=K+G,ne=Number.MIN_VALUE,se=0,oe=E[0]-$,re=0,ae=0,le=0,ce=0,me=0,ue=0,ge=0,de=0;main:for(;;){for(;0<=oe-te;){var he=L(0,te-ne,le,se);if(ue=ae+he,Z[de]=(ue-me)/G,de++,de===F)break main;ie=te,te+=G,me=ue}ne<=ie&&ie<=oe&&(he=L(0,ie-ne,le,se),me=ae+he),ae+=L(ne,oe,le,ce),ne=oe,se=re,ge<_?(oe=E[ge],re=P[ge],ge++):ge===_&&(oe+=ee,re=0),le=Q(ne,se,oe,re),ce=-le*ne+se}return Z}function A(E,P,O,T,F){var Q=E.length,_=(T-O)/(F-1),W=E[E.length-1]-E[E.length-2],K=O-_/2,Z=Array(F),$=K,ee=K+_,ie=-Number.MAX_VALUE,te=0,ne=E[0],se=P[0],oe=0,re=!0,ae=0,le=0,ce=1,me=0;main:for(;;){if(ie>=ne)throw new Error("x must be an increasing serie");for(;0<ie-ee;){if(re&&(le++,re=!1),Z[me]=0>=le?0:ae/le,me++,me===F)break main;$=ee,ee+=_,ae=0,le=0}ie>$&&(ae+=te,le++),(ie==-Number.MAX_VALUE||1<oe)&&le--,ie=ne,te=se,ce<Q?(ne=E[ce],se=P[ce],ce++):(ne+=W,se=0,oe++)}return Z}function L(E,P,O,T){return 0.5*O*P*P+T*P-(0.5*O*E*E+T*E)}S.getEquallySpacedData=function(E,P,O){1<E.length&&E[0]>E[1]&&(E=E.slice().reverse(),P=P.slice().reverse());var T=E.length;if(T!==P.length)throw new RangeError("the x and y vector doesn't have the same size.");O===void 0&&(O={});var F=O.from===void 0?E[0]:O.from;if(isNaN(F)||!isFinite(F))throw new RangeError("'From' value must be a number");var Q=O.to===void 0?E[E.length-1]:O.to;if(isNaN(Q)||!isFinite(Q))throw new RangeError("'To' value must be a number");var _=F>Q;if(_){var G=F;F=Q,Q=G}var W=O.numberOfPoints===void 0?100:O.numberOfPoints;if(isNaN(W)||!isFinite(W))throw new RangeError("'Number of points' value must be a number");if(1>W)throw new RangeError("the number of point must be higher than 1");var K="slot"===O.variant?"slot":"smooth",Z="slot"==K?A(E,P,F,Q,W):D(E,P,F,Q,W);return _?Z.reverse():Z},S.integral=L},{}],8:[function(M,I,S){I.exports=S=M("./ArrayUtils"),S.getEquallySpacedData=M("./getEquallySpaced").getEquallySpacedData,S.SNV=M("./snv").SNV},{"./ArrayUtils":6,"./getEquallySpaced":7,"./snv":9}],9:[function(M,I,S){"use strict";S.SNV=function(A){for(var L=D.mean(A),E=D.standardDeviation(A),P=A.slice(),O=0;O<A.length;O++)P[O]=(P[O]-L)/E;return P};var D=M("ml-stat").array},{"ml-stat":4}],10:[function(require,module){"use strict";module.exports=function(superCtor){function compareNumbers(M,I){return M-I}function fillTemplateFunction(M,I){for(var S in I)M=M.replace(new RegExp("%"+S+"%","g"),I[S]);return M}superCtor===void 0&&(superCtor=Object);class M extends superCtor{static get[Symbol.species](){return this}static from1DArray(I,S,R){if(I*S!==R.length)throw new RangeError("Data length does not match given dimensions");for(var A=new this(I,S),L=0;L<I;L++)for(var E=0;E<S;E++)A.set(L,E,R[L*S+E]);return A}static rowVector(I){for(var S=new this(1,I.length),R=0;R<I.length;R++)S.set(0,R,I[R]);return S}static columnVector(I){for(var S=new this(I.length,1),R=0;R<I.length;R++)S.set(R,0,I[R]);return S}static empty(I,S){return new this(I,S)}static zeros(I,S){return this.empty(I,S).fill(0)}static ones(I,S){return this.empty(I,S).fill(1)}static rand(I,S,R){R===void 0&&(R=Math.random);for(var D=this.empty(I,S),A=0;A<I;A++)for(var L=0;L<S;L++)D.set(A,L,R());return D}static randInt(I,S,R,D){R===void 0&&(R=1e3),D===void 0&&(D=Math.random);for(var A=this.empty(I,S),L=0;L<I;L++)for(var P,E=0;E<S;E++)P=Math.floor(D()*R),A.set(L,E,P);return A}static eye(I,S,R){S===void 0&&(S=I),R===void 0&&(R=1);for(var D=Math.min(I,S),A=this.zeros(I,S),L=0;L<D;L++)A.set(L,L,R);return A}static diag(I,S,R){var D=I.length;S===void 0&&(S=D),R===void 0&&(R=S);for(var A=Math.min(D,S,R),L=this.zeros(S,R),E=0;E<A;E++)L.set(E,E,I[E]);return L}static min(I,S){I=this.checkMatrix(I),S=this.checkMatrix(S);for(var R=I.rows,D=I.columns,A=new this(R,D),L=0;L<R;L++)for(var E=0;E<D;E++)A.set(L,E,Math.min(I.get(L,E),S.get(L,E)));return A}static max(I,S){I=this.checkMatrix(I),S=this.checkMatrix(S);for(var R=I.rows,D=I.columns,A=new this(R,D),L=0;L<R;L++)for(var E=0;E<D;E++)A.set(L,E,Math.max(I.get(L,E),S.get(L,E)));return A}static checkMatrix(I){return M.isMatrix(I)?I:new this(I)}static isMatrix(I){return null!=I&&"Matrix"===I.klass}get size(){return this.rows*this.columns}apply(I){if("function"!=typeof I)throw new TypeError("callback must be a function");for(var S=this.rows,R=this.columns,D=0;D<S;D++)for(var A=0;A<R;A++)I.call(this,D,A);return this}to1DArray(){for(var I=Array(this.size),S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)I[S*this.columns+R]=this.get(S,R);return I}to2DArray(){for(var I=Array(this.rows),S=0;S<this.rows;S++){I[S]=Array(this.columns);for(var R=0;R<this.columns;R++)I[S][R]=this.get(S,R)}return I}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var I=0;I<this.rows;I++)for(var S=0;S<=I;S++)if(this.get(I,S)!==this.get(S,I))return!1;return!0}return!1}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(I,S){I=I||1,S=S||1;for(var R=new this.constructor[Symbol.species](this.rows*I,this.columns*S),D=0;D<I;D++)for(var A=0;A<S;A++)R.setSubMatrix(this,this.rows*D,this.columns*A);return R}fill(I){for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,I);return this}neg(){return this.mulS(-1)}getRow(I){util.checkRowIndex(this,I);for(var S=Array(this.columns),R=0;R<this.columns;R++)S[R]=this.get(I,R);return S}getRowVector(I){return this.constructor.rowVector(this.getRow(I))}setRow(I,S){util.checkRowIndex(this,I),S=util.checkRowVector(this,S);for(var R=0;R<this.columns;R++)this.set(I,R,S[R]);return this}swapRows(I,S){util.checkRowIndex(this,I),util.checkRowIndex(this,S);for(var D,R=0;R<this.columns;R++)D=this.get(I,R),this.set(I,R,this.get(S,R)),this.set(S,R,D);return this}getColumn(I){util.checkColumnIndex(this,I);for(var S=Array(this.rows),R=0;R<this.rows;R++)S[R]=this.get(R,I);return S}getColumnVector(I){return this.constructor.columnVector(this.getColumn(I))}setColumn(I,S){util.checkColumnIndex(this,I),S=util.checkColumnVector(this,S);for(var R=0;R<this.rows;R++)this.set(R,I,S[R]);return this}swapColumns(I,S){util.checkColumnIndex(this,I),util.checkColumnIndex(this,S);for(var D,R=0;R<this.rows;R++)D=this.get(R,I),this.set(R,I,this.get(R,S)),this.set(R,S,D);return this}addRowVector(I){I=util.checkRowVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)+I[R]);return this}subRowVector(I){I=util.checkRowVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)-I[R]);return this}mulRowVector(I){I=util.checkRowVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)*I[R]);return this}divRowVector(I){I=util.checkRowVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)/I[R]);return this}addColumnVector(I){I=util.checkColumnVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)+I[S]);return this}subColumnVector(I){I=util.checkColumnVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)-I[S]);return this}mulColumnVector(I){I=util.checkColumnVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)*I[S]);return this}divColumnVector(I){I=util.checkColumnVector(this,I);for(var S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.set(S,R,this.get(S,R)/I[S]);return this}mulRow(I,S){util.checkRowIndex(this,I);for(var R=0;R<this.columns;R++)this.set(I,R,this.get(I,R)*S);return this}mulColumn(I,S){util.checkColumnIndex(this,I);for(var R=0;R<this.rows;R++)this.set(R,I,this.get(R,I)*S);return this}max(){for(var I=this.get(0,0),S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.get(S,R)>I&&(I=this.get(S,R));return I}maxIndex(){for(var I=this.get(0,0),S=[0,0],R=0;R<this.rows;R++)for(var D=0;D<this.columns;D++)this.get(R,D)>I&&(I=this.get(R,D),S[0]=R,S[1]=D);return S}min(){for(var I=this.get(0,0),S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)this.get(S,R)<I&&(I=this.get(S,R));return I}minIndex(){for(var I=this.get(0,0),S=[0,0],R=0;R<this.rows;R++)for(var D=0;D<this.columns;D++)this.get(R,D)<I&&(I=this.get(R,D),S[0]=R,S[1]=D);return S}maxRow(I){util.checkRowIndex(this,I);for(var S=this.get(I,0),R=1;R<this.columns;R++)this.get(I,R)>S&&(S=this.get(I,R));return S}maxRowIndex(I){util.checkRowIndex(this,I);for(var S=this.get(I,0),R=[I,0],D=1;D<this.columns;D++)this.get(I,D)>S&&(S=this.get(I,D),R[1]=D);return R}minRow(I){util.checkRowIndex(this,I);for(var S=this.get(I,0),R=1;R<this.columns;R++)this.get(I,R)<S&&(S=this.get(I,R));return S}minRowIndex(I){util.checkRowIndex(this,I);for(var S=this.get(I,0),R=[I,0],D=1;D<this.columns;D++)this.get(I,D)<S&&(S=this.get(I,D),R[1]=D);return R}maxColumn(I){util.checkColumnIndex(this,I);for(var S=this.get(0,I),R=1;R<this.rows;R++)this.get(R,I)>S&&(S=this.get(R,I));return S}maxColumnIndex(I){util.checkColumnIndex(this,I);for(var S=this.get(0,I),R=[0,I],D=1;D<this.rows;D++)this.get(D,I)>S&&(S=this.get(D,I),R[0]=D);return R}minColumn(I){util.checkColumnIndex(this,I);for(var S=this.get(0,I),R=1;R<this.rows;R++)this.get(R,I)<S&&(S=this.get(R,I));return S}minColumnIndex(I){util.checkColumnIndex(this,I);for(var S=this.get(0,I),R=[0,I],D=1;D<this.rows;D++)this.get(D,I)<S&&(S=this.get(D,I),R[0]=D);return R}diag(){for(var I=Math.min(this.rows,this.columns),S=Array(I),R=0;R<I;R++)S[R]=this.get(R,R);return S}sum(I){return"row"===I?util.sumByRow(this):"column"===I?util.sumByColumn(this):util.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var I=1,S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)I*=this.get(S,R);return I}cumulativeSum(){for(var I=0,S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)I+=this.get(S,R),this.set(S,R,I);return this}dot(I){M.isMatrix(I)&&(I=I.to1DArray());var S=this.to1DArray();if(S.length!==I.length)throw new RangeError("vectors do not have the same size");for(var R=0,D=0;D<S.length;D++)R+=S[D]*I[D];return R}mmul(I){I=this.constructor.checkMatrix(I),this.columns!==I.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var S=this.rows,R=this.columns,D=I.columns,A=new this.constructor[Symbol.species](S,D),L=Array(R),E=0;E<D;E++){for(var P=0;P<R;P++)L[P]=I.get(P,E);for(var T,O=0;O<S;O++){for(T=0,P=0;P<R;P++)T+=this.get(O,P)*L[P];A.set(O,E,T)}}return A}strassen2x2(I){var S=new this.constructor[Symbol.species](2,2);const R=this.get(0,0),D=I.get(0,0),A=this.get(0,1),L=I.get(0,1),E=this.get(1,0),P=I.get(1,0),O=this.get(1,1),T=I.get(1,1),F=(R+O)*(D+T),Q=(E+O)*D,_=R*(L-T),G=O*(P-D),W=(R+A)*T;return S.set(0,0,F+G-W+(A-O)*(P+T)),S.set(0,1,_+W),S.set(1,0,Q+G),S.set(1,1,F-Q+_+(E-R)*(D+L)),S}strassen3x3(I){var S=new this.constructor[Symbol.species](3,3);const R=this.get(0,0),D=this.get(0,1),A=this.get(0,2),L=this.get(1,0),E=this.get(1,1),P=this.get(1,2),O=this.get(2,0),T=this.get(2,1),F=this.get(2,2),Q=I.get(0,0),_=I.get(0,1),G=I.get(0,2),W=I.get(1,0),K=I.get(1,1),Z=I.get(1,2),$=I.get(2,0),ee=I.get(2,1),ie=I.get(2,2),ne=(R-L)*(-_+K),oe=(-R+L+E)*(Q-_+K),re=(L+E)*(-Q+_),ae=R*Q,le=(-R+O+T)*(Q-G+Z),ce=(-R+O)*(G-Z),me=(O+T)*(-Q+G),de=(-A+T+F)*(K+$-ee),he=(A-F)*(K-ee),je=A*$,ke=(T+F)*(-$+ee),xe=(-A+E+P)*(Z+$-ie),we=(A-P)*(Z-ie),pe=(E+P)*(-$+ie);return S.set(0,0,ae+je+D*W),S.set(0,1,(R+D+A-L-E-T-F)*K+oe+re+ae+de+je+ke),S.set(0,2,ae+le+me+(R+D+A-E-P-O-T)*Z+je+xe+pe),S.set(1,0,ne+E*(-Q+_+W-K-Z-$+ie)+oe+ae+je+xe+we),S.set(1,1,ne+oe+re+ae+P*ee),S.set(1,2,je+xe+we+pe+L*G),S.set(2,0,ae+le+ce+T*(-Q+G+W-K-Z-$+ee)+de+he+je),S.set(2,1,de+he+je+ke+O*_),S.set(2,2,ae+le+ce+me+F*ie),S}mmulStrassen(I){function S(F,Q,_){var G=F.rows,W=F.columns;if(G===Q&&W===_)return F;var K=M.zeros(Q,_);return K=K.setSubMatrix(F,0,0),K}function R(F,Q,_,G){if(512>=_||512>=G)return F.mmul(Q);1==_%2&&1==G%2?(F=S(F,_+1,G+1),Q=S(Q,_+1,G+1)):1==_%2?(F=S(F,_+1,G),Q=S(Q,_+1,G)):1==G%2&&(F=S(F,_,G+1),Q=S(Q,_,G+1));var W=parseInt(F.rows/2),K=parseInt(F.columns/2),Z=F.subMatrix(0,W-1,0,K-1),$=Q.subMatrix(0,W-1,0,K-1),ee=F.subMatrix(0,W-1,K,F.columns-1),ie=Q.subMatrix(0,W-1,K,Q.columns-1),te=F.subMatrix(W,F.rows-1,0,K-1),ne=Q.subMatrix(W,Q.rows-1,0,K-1),se=F.subMatrix(W,F.rows-1,K,F.columns-1),oe=Q.subMatrix(W,Q.rows-1,K,Q.columns-1),re=R(M.add(Z,se),M.add($,oe),W,K),ae=R(M.add(te,se),$,W,K),le=R(Z,M.sub(ie,oe),W,K),ce=R(se,M.sub(ne,$),W,K),me=R(M.add(Z,ee),oe,W,K),ue=R(M.sub(te,Z),M.add($,ie),W,K),ge=R(M.sub(ee,se),M.add(ne,oe),W,K),de=M.add(re,ce);de.sub(me),de.add(ge);var he=M.add(le,me),je=M.add(ae,ce),ke=M.sub(re,ae);ke.add(le),ke.add(ue);var xe=M.zeros(2*de.rows,2*de.columns);return xe=xe.setSubMatrix(de,0,0),xe=xe.setSubMatrix(he,de.rows,0),xe=xe.setSubMatrix(je,0,de.columns),xe=xe.setSubMatrix(ke,de.rows,de.columns),xe.subMatrix(0,_-1,0,G-1)}var D=this.clone(),A=D.rows,L=D.columns,E=I.rows,P=I.columns;L!==E&&console.warn(`Multiplying ${A} x ${L} and ${E} x ${P} matrix: dimensions do not match.`);var O=Math.max(A,E),T=Math.max(L,P);return D=S(D,O,T),I=S(I,O,T),R(D,I,O,T)}scaleRows(I,S){if(I=void 0===I?0:I,S=void 0===S?1:S,I>=S)throw new RangeError("min should be strictly smaller than max");for(var A,R=this.constructor.empty(this.rows,this.columns),D=0;D<this.rows;D++)A=arrayUtils.scale(this.getRow(D),{min:I,max:S}),R.setRow(D,A);return R}scaleColumns(I,S){if(I=void 0===I?0:I,S=void 0===S?1:S,I>=S)throw new RangeError("min should be strictly smaller than max");for(var A,R=this.constructor.empty(this.rows,this.columns),D=0;D<this.columns;D++)A=arrayUtils.scale(this.getColumn(D),{min:I,max:S}),R.setColumn(D,A);return R}kroneckerProduct(I){I=this.constructor.checkMatrix(I);for(var S=this.rows,R=this.columns,D=I.rows,A=I.columns,L=new this.constructor[Symbol.species](S*D,R*A),E=0;E<S;E++)for(var P=0;P<R;P++)for(var O=0;O<D;O++)for(var T=0;T<A;T++)L[D*E+O][A*P+T]=this.get(E,P)*I.get(O,T);return L}transpose(){for(var I=new this.constructor[Symbol.species](this.columns,this.rows),S=0;S<this.rows;S++)for(var R=0;R<this.columns;R++)I.set(R,S,this.get(S,R));return I}sortRows(I){I===void 0&&(I=compareNumbers);for(var S=0;S<this.rows;S++)this.setRow(S,this.getRow(S).sort(I));return this}sortColumns(I){I===void 0&&(I=compareNumbers);for(var S=0;S<this.columns;S++)this.setColumn(S,this.getColumn(S).sort(I));return this}subMatrix(I,S,R,D){util.checkRange(this,I,S,R,D);for(var A=new this.constructor[Symbol.species](S-I+1,D-R+1),L=I;L<=S;L++)for(var E=R;E<=D;E++)A[L-I][E-R]=this.get(L,E);return A}subMatrixRow(I,S,R){if(void 0===S&&(S=0),void 0===R&&(R=this.columns-1),S>R||0>S||S>=this.columns||0>R||R>=this.columns)throw new RangeError("Argument out of range");for(var D=new this.constructor[Symbol.species](I.length,R-S+1),A=0;A<I.length;A++)for(var L=S;L<=R;L++){if(0>I[A]||I[A]>=this.rows)throw new RangeError("Row index out of range: "+I[A]);D.set(A,L-S,this.get(I[A],L))}return D}subMatrixColumn(I,S,R){if(void 0===S&&(S=0),void 0===R&&(R=this.rows-1),S>R||0>S||S>=this.rows||0>R||R>=this.rows)throw new RangeError("Argument out of range");for(var D=new this.constructor[Symbol.species](R-S+1,I.length),A=0;A<I.length;A++)for(var L=S;L<=R;L++){if(0>I[A]||I[A]>=this.columns)throw new RangeError("Column index out of range: "+I[A]);D.set(L-S,A,this.get(L,I[A]))}return D}setSubMatrix(I,S,R){I=this.constructor.checkMatrix(I);var D=S+I.rows-1,A=R+I.columns-1;util.checkRange(this,S,D,R,A);for(var L=0;L<I.rows;L++)for(var E=0;E<I.columns;E++)this[S+L][R+E]=I.get(L,E);return this}selection(I,S){for(var L,R=util.checkIndices(this,I,S),D=new this.constructor[Symbol.species](I.length,S.length),A=0;A<R.row.length;A++){L=R.row[A];for(var P,E=0;E<R.column.length;E++)P=R.column[E],D[A][E]=this.get(L,P)}return D}trace(){for(var I=Math.min(this.rows,this.columns),S=0,R=0;R<I;R++)S+=this.get(R,R);return S}transposeView(){return new MatrixTransposeView(this)}rowView(I){return util.checkRowIndex(this,I),new MatrixRowView(this,I)}columnView(I){return util.checkColumnIndex(this,I),new MatrixColumnView(this,I)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(I,S,R,D){return new MatrixSubView(this,I,S,R,D)}selectionView(I,S){return new MatrixSelectionView(this,I,S)}det(){if(this.isSquare()){var I,S,R,D;if(2===this.columns)return I=this.get(0,0),S=this.get(0,1),R=this.get(1,0),D=this.get(1,1),I*D-S*R;if(3===this.columns){var A,L,E;return A=this.selectionView([1,2],[1,2]),L=this.selectionView([1,2],[0,2]),E=this.selectionView([1,2],[0,1]),I=this.get(0,0),S=this.get(0,1),R=this.get(0,2),I*A.det()-S*L.det()+R*E.det()}return new LuDecomposition(this).determinant}throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(I){void 0===I&&(I=Number.EPSILON);for(var S=new SvDecomposition(this,{autoTranspose:!0}),R=S.leftSingularVectors,D=S.rightSingularVectors,A=S.diagonal,L=0;L<A.length;L++)A[L]=Math.abs(A[L])>I?1/A[L]:0;return A=this.constructor[Symbol.species].diag(A),D.mmul(A.mmul(R.transposeView()))}}M.prototype.klass="Matrix",M.random=M.rand,M.diagonal=M.diag,M.prototype.diagonal=M.prototype.diag,M.identity=M.eye,M.prototype.negate=M.prototype.neg,M.prototype.tensorProduct=M.prototype.kroneckerProduct,M.prototype.determinant=M.prototype.det;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,inplaceMethodWithArgs=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,staticMethodWithArgs=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,inplaceMethodWithOneArgScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,inplaceMethodWithOneArgMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,inplaceMethodWithOneArg=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,operators=[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]],i;for(var operator of operators){var inplaceOp=eval(fillTemplateFunction(inplaceOperator,{name:operator[1],op:operator[0]})),inplaceOpS=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[1]+"S",op:operator[0]})),inplaceOpM=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[1]+"M",op:operator[0]})),staticOp=eval(fillTemplateFunction(staticOperator,{name:operator[1]}));for(i=1;i<operator.length;i++)M.prototype[operator[i]]=inplaceOp,M.prototype[operator[i]+"S"]=inplaceOpS,M.prototype[operator[i]+"M"]=inplaceOpM,M[operator[i]]=staticOp}var methods=[["~","not"]];["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach(function(M){methods.push(["Math."+M,M])});for(var method of methods){var inplaceMeth=eval(fillTemplateFunction(inplaceMethod,{name:method[1],method:method[0]})),staticMeth=eval(fillTemplateFunction(staticMethod,{name:method[1]}));for(i=1;i<method.length;i++)M.prototype[method[i]]=inplaceMeth,M[method[i]]=staticMeth}var methodsWithArgs=[["Math.pow",1,"pow"]];for(var methodWithArg of methodsWithArgs){var args="arg0";for(i=1;i<methodWithArg[1];i++)args+=`, arg${i}`;if(1!==methodWithArg[1]){var inplaceMethWithArgs=eval(fillTemplateFunction(inplaceMethodWithArgs,{name:methodWithArg[2],method:methodWithArg[0],args:args})),staticMethWithArgs=eval(fillTemplateFunction(staticMethodWithArgs,{name:methodWithArg[2],args:args}));for(i=2;i<methodWithArg.length;i++)M.prototype[methodWithArg[i]]=inplaceMethWithArgs,M[methodWithArg[i]]=staticMethWithArgs}else{var tmplVar={name:methodWithArg[2],args:args,method:methodWithArg[0]},inplaceMethod2=eval(fillTemplateFunction(inplaceMethodWithOneArg,tmplVar)),inplaceMethodS=eval(fillTemplateFunction(inplaceMethodWithOneArgScalar,tmplVar)),inplaceMethodM=eval(fillTemplateFunction(inplaceMethodWithOneArgMatrix,tmplVar)),staticMethod2=eval(fillTemplateFunction(staticMethodWithArgs,tmplVar));for(i=2;i<methodWithArg.length;i++)M.prototype[methodWithArg[i]]=inplaceMethod2,M.prototype[methodWithArg[i]+"M"]=inplaceMethodM,M.prototype[methodWithArg[i]+"S"]=inplaceMethodS,M[methodWithArg[i]]=staticMethod2}}return M};var LuDecomposition=require("./dc/lu"),SvDecomposition=require("./dc/svd"),arrayUtils=require("ml-array-utils"),util=require("./util"),MatrixTransposeView=require("./views/transpose"),MatrixRowView=require("./views/row"),MatrixSubView=require("./views/sub"),MatrixSelectionView=require("./views/selection"),MatrixColumnView=require("./views/column"),MatrixFlipRowView=require("./views/flipRow"),MatrixFlipColumnView=require("./views/flipColumn")},{"./dc/lu":13,"./dc/svd":15,"./util":21,"./views/column":23,"./views/flipColumn":24,"./views/flipRow":25,"./views/row":26,"./views/selection":27,"./views/sub":28,"./views/transpose":29,"ml-array-utils":8}],11:[function(M,I){"use strict";function R(A){if(!(this instanceof R))return new R(A);if(A=D.checkMatrix(A),!A.isSymmetric())throw new Error("Matrix is not symmetric");var T,F,Q,L=A,E=L.rows,P=new D(E,E),O=!0;for(F=0;F<E;F++){var _=P[F],G=0;for(Q=0;Q<F;Q++){var W=P[Q],K=0;for(T=0;T<Q;T++)K+=W[T]*_[T];_[Q]=K=(L[F][Q]-K)/P[Q][Q],G+=K*K}for(G=L[F][F]-G,O&=0<G,P[F][F]=Math.sqrt(Math.max(G,0)),Q=F+1;Q<E;Q++)P[F][Q]=0}if(!O)throw new Error("Matrix is not positive definite");this.L=P}var D=M("../matrix").Matrix;R.prototype={get lowerTriangularMatrix(){return this.L},solve:function(A){A=D.checkMatrix(A);var L=this.L,E=L.rows;if(A.rows!==E)throw new Error("Matrix dimensions do not match");var T,F,Q,P=A.columns,O=A.clone();for(Q=0;Q<E;Q++)for(F=0;F<P;F++){for(T=0;T<Q;T++)O[Q][F]-=O[T][F]*L[Q][T];O[Q][F]/=L[Q][Q]}for(Q=E-1;0<=Q;Q--)for(F=0;F<P;F++){for(T=Q+1;T<E;T++)O[Q][F]-=O[T][F]*L[T][Q];O[Q][F]/=L[Q][Q]}return O}},I.exports=R},{"../matrix":19}],12:[function(M,I){"use strict";function R(G,W){if(W=Object.assign({},_,W),!(this instanceof R))return new R(G,W);if(G=O.checkMatrix(G),!G.isSquare())throw new Error("Matrix is not a square matrix");var te,ne,K=G.columns,Z=Q(K,K,0),$=Array(K),ee=Array(K),ie=G,se=!1;if(se=!!W.assumeSymmetric||G.isSymmetric(),se){for(te=0;te<K;te++)for(ne=0;ne<K;ne++)Z[te][ne]=ie.get(te,ne);D(K,ee,$,Z),A(K,ee,$,Z)}else{var oe=Q(K,K,0),re=Array(K);for(ne=0;ne<K;ne++)for(te=0;te<K;te++)oe[te][ne]=ie.get(te,ne);L(K,oe,re,Z),E(K,ee,$,Z,oe)}this.n=K,this.e=ee,this.d=$,this.V=Z}function D(G,W,K,Z){var $,ee,ie,te,ne,se,oe,re;for(ne=0;ne<G;ne++)K[ne]=Z[G-1][ne];for(te=G-1;0<te;te--){for(re=0,ie=0,se=0;se<te;se++)re+=Math.abs(K[se]);if(0===re)for(W[te]=K[te-1],ne=0;ne<te;ne++)K[ne]=Z[te-1][ne],Z[te][ne]=0,Z[ne][te]=0;else{for(se=0;se<te;se++)K[se]/=re,ie+=K[se]*K[se];for($=K[te-1],ee=Math.sqrt(ie),0<$&&(ee=-ee),W[te]=re*ee,ie-=$*ee,K[te-1]=$-ee,ne=0;ne<te;ne++)W[ne]=0;for(ne=0;ne<te;ne++){for($=K[ne],Z[ne][te]=$,ee=W[ne]+Z[ne][ne]*$,se=ne+1;se<=te-1;se++)ee+=Z[se][ne]*K[se],W[se]+=Z[se][ne]*$;W[ne]=ee}for($=0,ne=0;ne<te;ne++)W[ne]/=ie,$+=W[ne]*K[ne];for(oe=$/(ie+ie),ne=0;ne<te;ne++)W[ne]-=oe*K[ne];for(ne=0;ne<te;ne++){for($=K[ne],ee=W[ne],se=ne;se<=te-1;se++)Z[se][ne]-=$*W[se]+ee*K[se];K[ne]=Z[te-1][ne],Z[te][ne]=0}}K[te]=ie}for(te=0;te<G-1;te++){if(Z[G-1][te]=Z[te][te],Z[te][te]=1,ie=K[te+1],0!==ie){for(se=0;se<=te;se++)K[se]=Z[se][te+1]/ie;for(ne=0;ne<=te;ne++){for(ee=0,se=0;se<=te;se++)ee+=Z[se][te+1]*Z[se][ne];for(se=0;se<=te;se++)Z[se][ne]-=ee*K[se]}}for(se=0;se<=te;se++)Z[se][te+1]=0}for(ne=0;ne<G;ne++)K[ne]=Z[G-1][ne],Z[G-1][ne]=0;Z[G-1][G-1]=1,W[0]=0}function A(G,W,K,Z){var $,ee,ie,te,ne,se,oe,re,ae,le,ce,me,ue,ge,de,he,je;for(ie=1;ie<G;ie++)W[ie-1]=W[ie];W[G-1]=0;var ke=0,xe=0,we=Math.pow(2,-52);for(se=0;se<G;se++){for(xe=Math.max(xe,Math.abs(K[se])+Math.abs(W[se])),oe=se;oe<G&&!(Math.abs(W[oe])<=we*xe);)oe++;if(oe>se){je=0;do{for(++je,$=K[se],re=(K[se+1]-$)/(2*W[se]),ae=F(re,1),0>re&&(ae=-ae),K[se]=W[se]/(re+ae),K[se+1]=W[se]*(re+ae),le=K[se+1],ee=$-K[se],ie=se+2;ie<G;ie++)K[ie]-=ee;for(ke+=ee,re=K[oe],ce=1,me=ce,ue=ce,ge=W[se+1],de=0,he=0,ie=oe-1;ie>=se;ie--)for(ue=me,me=ce,he=de,$=ce*W[ie],ee=ce*re,ae=F(re,W[ie]),W[ie+1]=de*ae,de=W[ie]/ae,ce=re/ae,re=ce*K[ie]-de*$,K[ie+1]=ee+de*(ce*$+de*K[ie]),ne=0;ne<G;ne++)ee=Z[ne][ie+1],Z[ne][ie+1]=de*Z[ne][ie]+ce*ee,Z[ne][ie]=ce*Z[ne][ie]-de*ee;re=-de*he*ue*ge*W[se]/le,W[se]=de*re,K[se]=ce*re}while(Math.abs(W[se])>we*xe)}K[se]+=ke,W[se]=0}for(ie=0;ie<G-1;ie++){for(ne=ie,re=K[ie],te=ie+1;te<G;te++)K[te]<re&&(ne=te,re=K[te]);if(ne!==ie)for(K[ne]=K[ie],K[ie]=re,te=0;te<G;te++)re=Z[te][ie],Z[te][ie]=Z[te][ne],Z[te][ne]=re}}function L(G,W,K,Z){var ie,te,ne,se,oe,re,ae,$=0,ee=G-1;for(re=$+1;re<=ee-1;re++){for(ae=0,se=re;se<=ee;se++)ae+=Math.abs(W[se][re-1]);if(0!==ae){for(ne=0,se=ee;se>=re;se--)K[se]=W[se][re-1]/ae,ne+=K[se]*K[se];for(te=Math.sqrt(ne),0<K[re]&&(te=-te),ne-=K[re]*te,K[re]-=te,oe=re;oe<G;oe++){for(ie=0,se=ee;se>=re;se--)ie+=K[se]*W[se][oe];for(ie/=ne,se=re;se<=ee;se++)W[se][oe]-=ie*K[se]}for(se=0;se<=ee;se++){for(ie=0,oe=ee;oe>=re;oe--)ie+=K[oe]*W[se][oe];for(ie/=ne,oe=re;oe<=ee;oe++)W[se][oe]-=ie*K[oe]}K[re]=ae*K[re],W[re][re-1]=ae*te}}for(se=0;se<G;se++)for(oe=0;oe<G;oe++)Z[se][oe]=se===oe?1:0;for(re=ee-1;re>=$+1;re--)if(0!==W[re][re-1]){for(se=re+1;se<=ee;se++)K[se]=W[se][re-1];for(oe=re;oe<=ee;oe++){for(te=0,se=re;se<=ee;se++)te+=K[se]*Z[se][oe];for(te=te/K[re]/W[re][re-1],se=re;se<=ee;se++)Z[se][oe]+=te*K[se]}}}function E(G,W,K,Z,$){var ge,de,he,je,ke,xe,we,pe,be,ve,ye,fe,Me,ze,Ie,ee=G-1,ie=0,te=G-1,ne=Math.pow(2,-52),se=0,oe=0,re=0,ae=0,le=0,ce=0,me=0,ue=0;for(ge=0;ge<G;ge++)for((ge<ie||ge>te)&&(K[ge]=$[ge][ge],W[ge]=0),de=Math.max(ge-1,0);de<G;de++)oe+=Math.abs($[ge][de]);for(;ee>=ie;){for(je=ee;je>ie&&(ce=Math.abs($[je-1][je-1])+Math.abs($[je][je]),0==ce&&(ce=oe),!(Math.abs($[je][je-1])<ne*ce));)je--;if(je===ee)$[ee][ee]+=se,K[ee]=$[ee][ee],W[ee]=0,ee--,ue=0;else if(je===ee-1){if(we=$[ee][ee-1]*$[ee-1][ee],re=($[ee-1][ee-1]-$[ee][ee])/2,ae=re*re+we,me=Math.sqrt(Math.abs(ae)),$[ee][ee]+=se,$[ee-1][ee-1]=$[ee-1][ee-1]+se,pe=$[ee][ee],0<=ae){for(me=0<=re?re+me:re-me,K[ee-1]=pe+me,K[ee]=K[ee-1],0!=me&&(K[ee]=pe-we/me),W[ee-1]=0,W[ee]=0,pe=$[ee][ee-1],ce=Math.abs(pe)+Math.abs(me),re=pe/ce,ae=me/ce,le=Math.sqrt(re*re+ae*ae),re/=le,ae/=le,de=ee-1;de<G;de++)me=$[ee-1][de],$[ee-1][de]=ae*me+re*$[ee][de],$[ee][de]=ae*$[ee][de]-re*me;for(ge=0;ge<=ee;ge++)me=$[ge][ee-1],$[ge][ee-1]=ae*me+re*$[ge][ee],$[ge][ee]=ae*$[ge][ee]-re*me;for(ge=ie;ge<=te;ge++)me=Z[ge][ee-1],Z[ge][ee-1]=ae*me+re*Z[ge][ee],Z[ge][ee]=ae*Z[ge][ee]-re*me}else K[ee-1]=pe+re,K[ee]=pe+re,W[ee-1]=me,W[ee]=-me;ee-=2,ue=0}else{if(pe=$[ee][ee],be=0,we=0,je<ee&&(be=$[ee-1][ee-1],we=$[ee][ee-1]*$[ee-1][ee]),10==ue){for(se+=pe,ge=ie;ge<=ee;ge++)$[ge][ge]-=pe;ce=Math.abs($[ee][ee-1])+Math.abs($[ee-1][ee-2]),pe=be=0.75*ce,we=-0.4375*ce*ce}if(30==ue&&(ce=(be-pe)/2,ce=ce*ce+we,0<ce)){for(ce=Math.sqrt(ce),be<pe&&(ce=-ce),ce=pe-we/((be-pe)/2+ce),ge=ie;ge<=ee;ge++)$[ge][ge]-=ce;se+=ce,pe=be=we=0.964}for(++ue,ke=ee-2;ke>=je&&(me=$[ke][ke],le=pe-me,ce=be-me,re=(le*ce-we)/$[ke+1][ke]+$[ke][ke+1],ae=$[ke+1][ke+1]-me-le-ce,le=$[ke+2][ke+1],ce=Math.abs(re)+Math.abs(ae)+Math.abs(le),re/=ce,ae/=ce,le/=ce,ke!=je)&&!(Math.abs($[ke][ke-1])*(Math.abs(ae)+Math.abs(le))<ne*(Math.abs(re)*(Math.abs($[ke-1][ke-1])+Math.abs(me)+Math.abs($[ke+1][ke+1]))));)ke--;for(ge=ke+2;ge<=ee;ge++)$[ge][ge-2]=0,ge>ke+2&&($[ge][ge-3]=0);for(he=ke;he<=ee-1&&(ze=he!==ee-1,he!=ke&&(re=$[he][he-1],ae=$[he+1][he-1],le=ze?$[he+2][he-1]:0,pe=Math.abs(re)+Math.abs(ae)+Math.abs(le),0!==pe&&(re/=pe,ae/=pe,le/=pe)),0!==pe);he++)if(ce=Math.sqrt(re*re+ae*ae+le*le),0>re&&(ce=-ce),0!==ce){for(he==ke?je!==ke&&($[he][he-1]=-$[he][he-1]):$[he][he-1]=-ce*pe,re+=ce,pe=re/ce,be=ae/ce,me=le/ce,ae/=re,le/=re,de=he;de<G;de++)re=$[he][de]+ae*$[he+1][de],ze&&(re+=le*$[he+2][de],$[he+2][de]=$[he+2][de]-re*me),$[he][de]-=re*pe,$[he+1][de]=$[he+1][de]-re*be;for(ge=0;ge<=Math.min(ee,he+3);ge++)re=pe*$[ge][he]+be*$[ge][he+1],ze&&(re+=me*$[ge][he+2],$[ge][he+2]=$[ge][he+2]-re*le),$[ge][he]-=re,$[ge][he+1]=$[ge][he+1]-re*ae;for(ge=ie;ge<=te;ge++)re=pe*Z[ge][he]+be*Z[ge][he+1],ze&&(re+=me*Z[ge][he+2],Z[ge][he+2]=Z[ge][he+2]-re*le),Z[ge][he]-=re,Z[ge][he+1]=Z[ge][he+1]-re*ae}}}if(0!==oe){for(ee=G-1;0<=ee;ee--)if(re=K[ee],ae=W[ee],0===ae)for(je=ee,$[ee][ee]=1,ge=ee-1;0<=ge;ge--){for(we=$[ge][ge]-re,le=0,de=je;de<=ee;de++)le+=$[ge][de]*$[de][ee];if(0>W[ge])me=we,ce=le;else if(je=ge,0===W[ge]?$[ge][ee]=0===we?-le/(ne*oe):-le/we:(pe=$[ge][ge+1],be=$[ge+1][ge],ae=(K[ge]-re)*(K[ge]-re)+W[ge]*W[ge],xe=(pe*ce-me*le)/ae,$[ge][ee]=xe,$[ge+1][ee]=Math.abs(pe)>Math.abs(me)?(-le-we*xe)/pe:(-ce-be*xe)/me),xe=Math.abs($[ge][ee]),1<ne*xe*xe)for(de=ge;de<=ee;de++)$[de][ee]/=xe}else if(0>ae)for(je=ee-1,Math.abs($[ee][ee-1])>Math.abs($[ee-1][ee])?($[ee-1][ee-1]=ae/$[ee][ee-1],$[ee-1][ee]=-($[ee][ee]-re)/$[ee][ee-1]):(Ie=P(0,-$[ee-1][ee],$[ee-1][ee-1]-re,ae),$[ee-1][ee-1]=Ie[0],$[ee-1][ee]=Ie[1]),$[ee][ee-1]=0,$[ee][ee]=1,ge=ee-2;0<=ge;ge--){for(ve=0,ye=0,de=je;de<=ee;de++)ve+=$[ge][de]*$[de][ee-1],ye+=$[ge][de]*$[de][ee];if(we=$[ge][ge]-re,0>W[ge])me=we,le=ve,ce=ye;else if(je=ge,0===W[ge]?(Ie=P(-ve,-ye,we,ae),$[ge][ee-1]=Ie[0],$[ge][ee]=Ie[1]):(pe=$[ge][ge+1],be=$[ge+1][ge],fe=(K[ge]-re)*(K[ge]-re)+W[ge]*W[ge]-ae*ae,Me=2*(K[ge]-re)*ae,0===fe&&0===Me&&(fe=ne*oe*(Math.abs(we)+Math.abs(ae)+Math.abs(pe)+Math.abs(be)+Math.abs(me))),Ie=P(pe*le-me*ve+ae*ye,pe*ce-me*ye-ae*ve,fe,Me),$[ge][ee-1]=Ie[0],$[ge][ee]=Ie[1],Math.abs(pe)>Math.abs(me)+Math.abs(ae)?($[ge+1][ee-1]=(-ve-we*$[ge][ee-1]+ae*$[ge][ee])/pe,$[ge+1][ee]=(-ye-we*$[ge][ee]-ae*$[ge][ee-1])/pe):(Ie=P(-le-be*$[ge][ee-1],-ce-be*$[ge][ee],me,ae),$[ge+1][ee-1]=Ie[0],$[ge+1][ee]=Ie[1])),xe=Math.max(Math.abs($[ge][ee-1]),Math.abs($[ge][ee])),1<ne*xe*xe)for(de=ge;de<=ee;de++)$[de][ee-1]=$[de][ee-1]/xe,$[de][ee]/=xe}for(ge=0;ge<G;ge++)if(ge<ie||ge>te)for(de=ge;de<G;de++)Z[ge][de]=$[ge][de];for(de=G-1;de>=ie;de--)for(ge=ie;ge<=te;ge++){for(me=0,he=ie;he<=Math.min(de,te);he++)me+=Z[ge][he]*$[he][de];Z[ge][de]=me}}}function P(G,W,K,Z){var $,ee;return Math.abs(K)>Math.abs(Z)?($=Z/K,ee=K+$*Z,[(G+$*W)/ee,(W-$*G)/ee]):($=K/Z,ee=Z+$*K,[($*G+W)/ee,($*W-G)/ee])}const O=M("../matrix").Matrix,T=M("./util"),F=T.hypotenuse,Q=T.getFilled2DArray,_={assumeSymmetric:!1};R.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return O.isMatrix(this.V)||(this.V=new O(this.V)),this.V},get diagonalMatrix(){var $,ee,G=this.n,W=this.e,K=this.d,Z=new O(G,G);for($=0;$<G;$++){for(ee=0;ee<G;ee++)Z[$][ee]=0;Z[$][$]=K[$],0<W[$]?Z[$][$+1]=W[$]:0>W[$]&&(Z[$][$-1]=W[$])}return Z}},I.exports=R},{"../matrix":19,"./util":16}],13:[function(M,I){"use strict";function R(A){if(!(this instanceof R))return new R(A);A=D.Matrix.checkMatrix(A);var F,Q,_,G,W,K,Z,$,ee,ie,L=A.clone(),E=L.rows,P=L.columns,O=Array(E),T=1;for(F=0;F<E;F++)O[F]=F;for(ee=Array(E),Q=0;Q<P;Q++){for(F=0;F<E;F++)ee[F]=L[F][Q];for(F=0;F<E;F++){for($=L[F],ie=Math.min(F,Q),W=0,_=0;_<ie;_++)W+=$[_]*ee[_];$[Q]=ee[F]-=W}for(G=Q,F=Q+1;F<E;F++)Math.abs(ee[F])>Math.abs(ee[G])&&(G=F);if(G!==Q){for(_=0;_<P;_++)K=L[G][_],L[G][_]=L[Q][_],L[Q][_]=K;Z=O[G],O[G]=O[Q],O[Q]=Z,T=-T}if(Q<E&&0!==L[Q][Q])for(F=Q+1;F<E;F++)L[F][Q]/=L[Q][Q]}this.LU=L,this.pivotVector=O,this.pivotSign=T}var D=M("../matrix");R.prototype={isSingular:function(){for(var A=this.LU,L=A.columns,E=0;E<L;E++)if(0===A[E][E])return!0;return!1},get determinant(){var A=this.LU;if(!A.isSquare())throw new Error("Matrix must be square");for(var L=this.pivotSign,E=A.columns,P=0;P<E;P++)L*=A[P][P];return L},get lowerTriangularMatrix(){for(var A=this.LU,L=A.rows,E=A.columns,P=new D.Matrix(L,E),O=0;O<L;O++)for(var T=0;T<E;T++)P[O][T]=O>T?A[O][T]:O===T?1:0;return P},get upperTriangularMatrix(){for(var A=this.LU,L=A.rows,E=A.columns,P=new D.Matrix(L,E),O=0;O<L;O++)for(var T=0;T<E;T++)P[O][T]=O<=T?A[O][T]:0;return P},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(A){A=D.Matrix.checkMatrix(A);var L=this.LU,E=L.rows;if(E!==A.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var P=A.columns,O=A.subMatrixRow(this.pivotVector,0,P-1),T=L.columns,F,Q,_;for(_=0;_<T;_++)for(F=_+1;F<T;F++)for(Q=0;Q<P;Q++)O[F][Q]-=O[_][Q]*L[F][_];for(_=T-1;0<=_;_--){for(Q=0;Q<P;Q++)O[_][Q]/=L[_][_];for(F=0;F<_;F++)for(Q=0;Q<P;Q++)O[F][Q]-=O[_][Q]*L[F][_]}return O}},I.exports=R},{"../matrix":19}],14:[function(M,I){"use strict";function R(L){if(!(this instanceof R))return new R(L);L=D.checkMatrix(L);var F,Q,_,G,E=L.clone(),P=L.rows,O=L.columns,T=Array(O);for(_=0;_<O;_++){var W=0;for(F=_;F<P;F++)W=A(W,E[F][_]);if(0!==W){for(0>E[_][_]&&(W=-W),F=_;F<P;F++)E[F][_]/=W;for(E[_][_]+=1,Q=_+1;Q<O;Q++){for(G=0,F=_;F<P;F++)G+=E[F][_]*E[F][Q];for(G=-G/E[_][_],F=_;F<P;F++)E[F][Q]+=G*E[F][_]}}T[_]=-W}this.QR=E,this.Rdiag=T}var D=M("../matrix").Matrix,A=M("./util").hypotenuse;R.prototype={solve:function(L){L=D.checkMatrix(L);var E=this.QR,P=E.rows;if(L.rows!==P)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var O=L.columns,T=L.clone(),F=E.columns,Q,_,G,W;for(G=0;G<F;G++)for(_=0;_<O;_++){for(W=0,Q=G;Q<P;Q++)W+=E[Q][G]*T[Q][_];for(W=-W/E[G][G],Q=G;Q<P;Q++)T[Q][_]+=W*E[Q][G]}for(G=F-1;0<=G;G--){for(_=0;_<O;_++)T[G][_]/=this.Rdiag[G];for(Q=0;Q<G;Q++)for(_=0;_<O;_++)T[Q][_]-=T[G][_]*E[Q][G]}return T.subMatrix(0,F-1,0,O-1)},isFullRank:function(){for(var L=this.QR.columns,E=0;E<L;E++)if(0===this.Rdiag[E])return!1;return!0},get upperTriangularMatrix(){var O,T,L=this.QR,E=L.columns,P=new D(E,E);for(O=0;O<E;O++)for(T=0;T<E;T++)P[O][T]=O<T?L[O][T]:O===T?this.Rdiag[O]:0;return P},get orthogonalMatrix(){var T,F,Q,_,L=this.QR,E=L.rows,P=L.columns,O=new D(E,P);for(Q=P-1;0<=Q;Q--){for(T=0;T<E;T++)O[T][Q]=0;for(O[Q][Q]=1,F=Q;F<P;F++)if(0!==L[Q][Q]){for(_=0,T=Q;T<E;T++)_+=L[T][Q]*O[T][F];for(_=-_/L[Q][Q],T=Q;T<E;T++)O[T][F]+=_*L[T][Q]}}return O}},I.exports=R},{"../matrix":19,"./util":16}],15:[function(M,I){"use strict";function R(P,O){if(!(this instanceof R))return new R(P,O);P=D.Matrix.checkMatrix(P),O=O||{};var T=P.rows,F=P.columns,Q=Math.min(T,F),_=!0,G=!0;!1===O.computeLeftSingularVectors&&(_=!1),!1===O.computeRightSingularVectors&&(G=!1);var Z,W=!0===O.autoTranspose,K=!1;if(!(T<F))Z=P.clone();else if(!W)Z=P.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Z=P.transpose(),T=Z.rows,F=Z.columns,K=!0;var $=_;_=G,G=$}var ae,le,ce,me,ue,ge,de,he,je,ke,xe,we,pe,be,ve,ye,fe,Me,ze,Ie,Se,ee=Array(Math.min(T+1,F)),ie=E(T,Q,0),te=E(F,F,0),ne=Array(F),se=Array(T),oe=Math.min(T-1,F),re=Math.max(0,Math.min(F-2,T));for(ce=0,ke=Math.max(oe,re);ce<ke;ce++){if(ce<oe){for(ee[ce]=0,ae=ce;ae<T;ae++)ee[ce]=L(ee[ce],Z[ae][ce]);if(0!==ee[ce]){for(0>Z[ce][ce]&&(ee[ce]=-ee[ce]),ae=ce;ae<T;ae++)Z[ae][ce]/=ee[ce];Z[ce][ce]+=1}ee[ce]=-ee[ce]}for(le=ce+1;le<F;le++){if(ce<oe&&0!==ee[ce]){for(ue=0,ae=ce;ae<T;ae++)ue+=Z[ae][ce]*Z[ae][le];for(ue=-ue/Z[ce][ce],ae=ce;ae<T;ae++)Z[ae][le]+=ue*Z[ae][ce]}ne[le]=Z[ce][le]}if(_&&ce<oe)for(ae=ce;ae<T;ae++)ie[ae][ce]=Z[ae][ce];if(ce<re){for(ne[ce]=0,ae=ce+1;ae<F;ae++)ne[ce]=L(ne[ce],ne[ae]);if(0!==ne[ce]){for(0>ne[ce+1]&&(ne[ce]=0-ne[ce]),ae=ce+1;ae<F;ae++)ne[ae]/=ne[ce];ne[ce+1]+=1}if(ne[ce]=-ne[ce],ce+1<T&&0!==ne[ce]){for(ae=ce+1;ae<T;ae++)se[ae]=0;for(le=ce+1;le<F;le++)for(ae=ce+1;ae<T;ae++)se[ae]+=ne[le]*Z[ae][le];for(le=ce+1;le<F;le++)for(ue=-ne[le]/ne[ce+1],ae=ce+1;ae<T;ae++)Z[ae][le]+=ue*se[ae]}if(G)for(ae=ce+1;ae<F;ae++)te[ae][ce]=ne[ae]}}if(me=Math.min(F,T+1),oe<F&&(ee[oe]=Z[oe][oe]),T<me&&(ee[me-1]=0),re+1<me&&(ne[re]=Z[re][me-1]),ne[me-1]=0,_){for(le=oe;le<Q;le++){for(ae=0;ae<T;ae++)ie[ae][le]=0;ie[le][le]=1}for(ce=oe-1;0<=ce;ce--)if(0!==ee[ce]){for(le=ce+1;le<Q;le++){for(ue=0,ae=ce;ae<T;ae++)ue+=ie[ae][ce]*ie[ae][le];for(ue=-ue/ie[ce][ce],ae=ce;ae<T;ae++)ie[ae][le]+=ue*ie[ae][ce]}for(ae=ce;ae<T;ae++)ie[ae][ce]=-ie[ae][ce];for(ie[ce][ce]=1+ie[ce][ce],ae=0;ae<ce-1;ae++)ie[ae][ce]=0}else{for(ae=0;ae<T;ae++)ie[ae][ce]=0;ie[ce][ce]=1}}if(G)for(ce=F-1;0<=ce;ce--){if(ce<re&&0!==ne[ce])for(le=ce+1;le<F;le++){for(ue=0,ae=ce+1;ae<F;ae++)ue+=te[ae][ce]*te[ae][le];for(ue=-ue/te[ce+1][ce],ae=ce+1;ae<F;ae++)te[ae][le]+=ue*te[ae][ce]}for(ae=0;ae<F;ae++)te[ae][ce]=0;te[ce][ce]=1}for(var Ve=me-1,Re=0,Ce=Math.pow(2,-52);0<me;){for(ce=me-2;-1<=ce&&-1!==ce;ce--)if(Math.abs(ne[ce])<=Ce*(Math.abs(ee[ce])+Math.abs(ee[ce+1]))){ne[ce]=0;break}if(ce===me-2)xe=4;else{for(ge=me-1;ge>=ce&&ge!==ce;ge--)if(ue=(ge===me?0:Math.abs(ne[ge]))+(ge===ce+1?0:Math.abs(ne[ge-1])),Math.abs(ee[ge])<=Ce*ue){ee[ge]=0;break}ge===ce?xe=3:ge===me-1?xe=1:(xe=2,ce=ge)}switch(ce++,xe){case 1:{for(de=ne[me-2],ne[me-2]=0,le=me-2;le>=ce;le--)if(ue=L(ee[le],de),he=ee[le]/ue,je=de/ue,ee[le]=ue,le!==ce&&(de=-je*ne[le-1],ne[le-1]=he*ne[le-1]),G)for(ae=0;ae<F;ae++)ue=he*te[ae][le]+je*te[ae][me-1],te[ae][me-1]=-je*te[ae][le]+he*te[ae][me-1],te[ae][le]=ue;break}case 2:{for(de=ne[ce-1],ne[ce-1]=0,le=ce;le<me;le++)if(ue=L(ee[le],de),he=ee[le]/ue,je=de/ue,ee[le]=ue,de=-je*ne[le],ne[le]=he*ne[le],_)for(ae=0;ae<T;ae++)ue=he*ie[ae][le]+je*ie[ae][ce-1],ie[ae][ce-1]=-je*ie[ae][le]+he*ie[ae][ce-1],ie[ae][le]=ue;break}case 3:{for(we=Math.max(Math.max(Math.max(Math.max(Math.abs(ee[me-1]),Math.abs(ee[me-2])),Math.abs(ne[me-2])),Math.abs(ee[ce])),Math.abs(ne[ce])),pe=ee[me-1]/we,be=ee[me-2]/we,ve=ne[me-2]/we,ye=ee[ce]/we,fe=ne[ce]/we,Me=((be+pe)*(be-pe)+ve*ve)/2,ze=pe*ve*(pe*ve),Ie=0,(0!==Me||0!==ze)&&(Ie=Math.sqrt(Me*Me+ze),0>Me&&(Ie=-Ie),Ie=ze/(Me+Ie)),de=(ye+pe)*(ye-pe)+Ie,Se=ye*fe,le=ce;le<me-1;le++){if(ue=L(de,Se),he=de/ue,je=Se/ue,le!==ce&&(ne[le-1]=ue),de=he*ee[le]+je*ne[le],ne[le]=he*ne[le]-je*ee[le],Se=je*ee[le+1],ee[le+1]=he*ee[le+1],G)for(ae=0;ae<F;ae++)ue=he*te[ae][le]+je*te[ae][le+1],te[ae][le+1]=-je*te[ae][le]+he*te[ae][le+1],te[ae][le]=ue;if(ue=L(de,Se),he=de/ue,je=Se/ue,ee[le]=ue,de=he*ne[le]+je*ee[le+1],ee[le+1]=-je*ne[le]+he*ee[le+1],Se=je*ne[le+1],ne[le+1]=he*ne[le+1],_&&le<T-1)for(ae=0;ae<T;ae++)ue=he*ie[ae][le]+je*ie[ae][le+1],ie[ae][le+1]=-je*ie[ae][le]+he*ie[ae][le+1],ie[ae][le]=ue}ne[me-2]=de,++Re;break}case 4:{if(0>=ee[ce]&&(ee[ce]=0>ee[ce]?-ee[ce]:0,G))for(ae=0;ae<=Ve;ae++)te[ae][ce]=-te[ae][ce];for(;ce<Ve&&!(ee[ce]>=ee[ce+1]);){if(ue=ee[ce],ee[ce]=ee[ce+1],ee[ce+1]=ue,G&&ce<F-1)for(ae=0;ae<F;ae++)ue=te[ae][ce+1],te[ae][ce+1]=te[ae][ce],te[ae][ce]=ue;if(_&&ce<T-1)for(ae=0;ae<T;ae++)ue=ie[ae][ce+1],ie[ae][ce+1]=ie[ae][ce],ie[ae][ce]=ue;ce++}Re=0,me--;break}}}if(K){var De=te;te=ie,ie=De}this.m=T,this.n=F,this.s=ee,this.U=ie,this.V=te}var D=M("../matrix"),A=M("./util"),L=A.hypotenuse,E=A.getFilled2DArray;R.prototype={get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var P=Math.pow(2,-52),O=Math.max(this.m,this.n)*this.s[0]*P,T=0,F=this.s,Q=0,_=F.length;Q<_;Q++)F[Q]>O&&T++;return T},get diagonal(){return this.s},get threshold(){return Math.pow(2,-52)/2*Math.max(this.m,this.n)*this.s[0]},get leftSingularVectors(){return D.Matrix.isMatrix(this.U)||(this.U=new D.Matrix(this.U)),this.U},get rightSingularVectors(){return D.Matrix.isMatrix(this.V)||(this.V=new D.Matrix(this.V)),this.V},get diagonalMatrix(){return D.Matrix.diag(this.s)},solve:function(P){var _,T=this.threshold,F=this.s.length,Q=D.Matrix.zeros(F,F);for(_=0;_<F;_++)Q[_][_]=Math.abs(this.s[_])<=T?0:1/this.s[_];var G=this.U,W=this.rightSingularVectors,K=W.mmul(Q),Z=W.rows,$=G.length,ee=D.Matrix.zeros(Z,$),ie,te,ne;for(_=0;_<Z;_++)for(ie=0;ie<$;ie++){for(ne=0,te=0;te<F;te++)ne+=K[_][te]*G[ie][te];ee[_][ie]=ne}return ee.mmul(P)},solveForDiagonal:function(P){return this.solve(D.Matrix.diag(P))},inverse:function(){var P=this.V,O=this.threshold,T=P.length,F=P[0].length,Q=new D.Matrix(T,this.s.length),_,G;for(_=0;_<T;_++)for(G=0;G<F;G++)Q[_][G]=Math.abs(this.s[G])>O?P[_][G]/this.s[G]:0;var W=this.U,K=W.length,Z=W[0].length,$=new D.Matrix(T,K),ee,ie;for(_=0;_<T;_++)for(G=0;G<K;G++){for(ie=0,ee=0;ee<Z;ee++)ie+=Q[_][ee]*W[G][ee];$[_][G]=ie}return $}},I.exports=R},{"../matrix":19,"./util":16}],16:[function(M,I,S){"use strict";S.hypotenuse=function(D,A){var L;return Math.abs(D)>Math.abs(A)?(L=A/D,Math.abs(D)*Math.sqrt(1+L*L)):0===A?0:(L=D/A,Math.abs(A)*Math.sqrt(1+L*L))},S.getEmpty2DArray=function(R,D){for(var A=Array(R),L=0;L<R;L++)A[L]=Array(D);return A},S.getFilled2DArray=function(R,D,A){for(var L=Array(R),E=0;E<R;E++){L[E]=Array(D);for(var P=0;P<D;P++)L[E][P]=A}return L}},{}],17:[function(M,I){"use strict";function R(F){return F=A.checkMatrix(F),D(F,A.eye(F.rows))}function D(F,Q){return F=A.checkMatrix(F),Q=A.checkMatrix(Q),F.isSquare()?new P(F).solve(Q):new O(F).solve(Q)}var A=M("./matrix").Matrix,L=M("./dc/svd"),E=M("./dc/evd"),P=M("./dc/lu"),O=M("./dc/qr"),T=M("./dc/cholesky");A.inverse=A.inv=R,A.prototype.inverse=A.prototype.inv=function(){return R(this)},A.solve=D,A.prototype.solve=function(F){return D(this,F)},I.exports={SingularValueDecomposition:L,SVD:L,EigenvalueDecomposition:E,EVD:E,LuDecomposition:P,LU:P,QrDecomposition:O,QR:O,CholeskyDecomposition:T,CHO:T,inverse:R,solve:D}},{"./dc/cholesky":11,"./dc/evd":12,"./dc/lu":13,"./dc/qr":14,"./dc/svd":15,"./matrix":19}],18:[function(M,I){"use strict";I.exports=M("./matrix").Matrix,I.exports.Decompositions=I.exports.DC=M("./decompositions")},{"./decompositions":17,"./matrix":19}],19:[function(M,I,S){"use strict";M("./symbol-species");var R=M("./abstractMatrix"),D=M("./util");class A extends R(Array){constructor(L,E){var P;if(1===arguments.length&&"number"==typeof L)return Array(L);if(A.isMatrix(L))return L.clone();if(Number.isInteger(L)&&0<L){if(super(L),Number.isInteger(E)&&0<E)for(P=0;P<L;P++)this[P]=Array(E);else throw new TypeError("nColumns must be a positive integer");}else if(Array.isArray(L)){const O=L;if(L=O.length,E=O[0].length,"number"!=typeof E||0===E)throw new TypeError("Data must be a 2D array with at least one element");for(super(L),P=0;P<L;P++){if(O[P].length!==E)throw new RangeError("Inconsistent array dimensions");this[P]=[].concat(O[P])}}else throw new TypeError("First argument must be a positive number or an array");return this.rows=L,this.columns=E,this}set(L,E,P){return this[L][E]=P,this}get(L,E){return this[L][E]}clone(){for(var L=new this.constructor[Symbol.species](this.rows,this.columns),E=0;E<this.rows;E++)for(var P=0;P<this.columns;P++)L.set(E,P,this.get(E,P));return L}removeRow(L){if(D.checkRowIndex(this,L),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(L,1),this.rows-=1,this}addRow(L,E){return void 0===E&&(E=L,L=this.rows),D.checkRowIndex(this,L,!0),E=D.checkRowVector(this,E,!0),this.splice(L,0,E),this.rows+=1,this}removeColumn(L){if(D.checkColumnIndex(this,L),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var E=0;E<this.rows;E++)this[E].splice(L,1);return this.columns-=1,this}addColumn(L,E){"undefined"==typeof E&&(E=L,L=this.columns),D.checkColumnIndex(this,L,!0),E=D.checkColumnVector(this,E);for(var P=0;P<this.rows;P++)this[P].splice(L,0,E[P]);return this.columns+=1,this}}S.Matrix=A,A.abstractMatrix=R},{"./abstractMatrix":10,"./symbol-species":20,"./util":21}],20:[function(){"use strict";Symbol.species||(Symbol.species=Symbol.for("@@species"))},{}],21:[function(M,I,S){"use strict";var R=M("./matrix");S.checkRowIndex=function(A,L,E){var P=E?A.rows:A.rows-1;if(0>L||L>P)throw new RangeError("Row index out of range")},S.checkColumnIndex=function(A,L,E){var P=E?A.columns:A.columns-1;if(0>L||L>P)throw new RangeError("Column index out of range")},S.checkRowVector=function(A,L){if(L.to1DArray&&(L=L.to1DArray()),L.length!==A.columns)throw new RangeError("vector size must be the same as the number of columns");return L},S.checkColumnVector=function(A,L){if(L.to1DArray&&(L=L.to1DArray()),L.length!==A.rows)throw new RangeError("vector size must be the same as the number of rows");return L},S.checkIndices=function(A,L,E){var P=L.some(T=>{return 0>T||T>=A.rows}),O=E.some(T=>{return 0>T||T>=A.columns});if(P||O)throw new RangeError("Indices are out of range");if("object"!=typeof L||"object"!=typeof E)throw new TypeError("Unexpected type for row/column indices");return Array.isArray(L)||(L=Array.from(L)),Array.isArray(E)||(L=Array.from(E)),{row:L,column:E}},S.checkRange=function(A,L,E,P,O){if(5!==arguments.length)throw new TypeError("Invalid argument type");var T=Array.from(arguments).slice(1).some(function(F){return"number"!=typeof F});if(T)throw new TypeError("Invalid argument type");if(L>E||P>O||0>L||L>=A.rows||0>E||E>=A.rows||0>P||P>=A.columns||0>O||O>=A.columns)throw new RangeError("Submatrix indices are out of range")},S.getRange=function(A,L){for(var E=Array(L-A+1),P=0;P<E.length;P++)E[P]=A+P;return E},S.sumByRow=function(A){for(var L=R.Matrix.zeros(A.rows,1),E=0;E<A.rows;++E)for(var P=0;P<A.columns;++P)L.set(E,0,L.get(E,0)+A.get(E,P));return L},S.sumByColumn=function(A){for(var L=R.Matrix.zeros(1,A.columns),E=0;E<A.rows;++E)for(var P=0;P<A.columns;++P)L.set(0,P,L.get(0,P)+A.get(E,P));return L},S.sumAll=function(A){for(var L=0,E=0;E<A.rows;E++)for(var P=0;P<A.columns;P++)L+=A.get(E,P);return L}},{"./matrix":19}],22:[function(M,I){"use strict";var R=M("../abstractMatrix"),D=M("../matrix");class A extends R(){constructor(L,E,P){super(),this.matrix=L,this.rows=E,this.columns=P}static get[Symbol.species](){return D.Matrix}}I.exports=A},{"../abstractMatrix":10,"../matrix":19}],23:[function(M,I){"use strict";var R=M("./base");I.exports=class extends R{constructor(A,L){super(A,A.rows,1),this.column=L}set(A,L,E){return this.matrix.set(A,this.column,E),this}get(A){return this.matrix.get(A,this.column)}}},{"./base":22}],24:[function(M,I){"use strict";var R=M("./base");I.exports=class extends R{constructor(A){super(A,A.rows,A.columns)}set(A,L,E){return this.matrix.set(A,this.columns-L-1,E),this}get(A,L){return this.matrix.get(A,this.columns-L-1)}}},{"./base":22}],25:[function(M,I){"use strict";var R=M("./base");I.exports=class extends R{constructor(A){super(A,A.rows,A.columns)}set(A,L,E){return this.matrix.set(this.rows-A-1,L,E),this}get(A,L){return this.matrix.get(this.rows-A-1,L)}}},{"./base":22}],26:[function(M,I){"use strict";var R=M("./base");I.exports=class extends R{constructor(A,L){super(A,1,A.columns),this.row=L}set(A,L,E){return this.matrix.set(this.row,L,E),this}get(A,L){return this.matrix.get(this.row,L)}}},{"./base":22}],27:[function(M,I){"use strict";var R=M("./base"),D=M("../util");I.exports=class extends R{constructor(L,E,P){var O=D.checkIndices(L,E,P);super(L,O.row.length,O.column.length),this.rowIndices=O.row,this.columnIndices=O.column}set(L,E,P){return this.matrix.set(this.rowIndices[L],this.columnIndices[E],P),this}get(L,E){return this.matrix.get(this.rowIndices[L],this.columnIndices[E])}}},{"../util":21,"./base":22}],28:[function(M,I){"use strict";var R=M("./base"),D=M("../util");I.exports=class extends R{constructor(L,E,P,O,T){D.checkRange(L,E,P,O,T),super(L,P-E+1,T-O+1),this.startRow=E,this.startColumn=O}set(L,E,P){return this.matrix.set(this.startRow+L,this.startColumn+E,P),this}get(L,E){return this.matrix.get(this.startRow+L,this.startColumn+E)}}},{"../util":21,"./base":22}],29:[function(M,I){"use strict";var R=M("./base");I.exports=class extends R{constructor(A){super(A,A.columns,A.rows)}set(A,L,E){return this.matrix.set(L,A,E),this}get(A,L){return this.matrix.get(L,A)}}},{"./base":22}],30:[function(M,I){"use strict";function R(P,O){var T=P.length;"number"==typeof O.size&&(O.size=[O.size,O.size]);var F=T+O.size[0]+O.size[1],Q;if(O.output){if(O.output.length!==F)throw new RangeError("Wrong output size");Q=O.output}else Q=Array(F);var _;if("circular"===O.value)for(_=0;_<F;_++)Q[_]=_<O.size[0]?P[(T-O.size[0]%T+_)%T]:_<O.size[0]+T?P[_-O.size[0]]:P[(_-O.size[0])%T];else if("replicate"===O.value)for(_=0;_<F;_++)Q[_]=_<O.size[0]?P[0]:_<O.size[0]+T?P[_-O.size[0]]:P[T-1];else if("symmetric"===O.value){if(O.size[0]>T||O.size[1]>T)throw new RangeError("expanded value should not be bigger than the data length");for(_=0;_<F;_++)Q[_]=_<O.size[0]?P[O.size[0]-1-_]:_<O.size[0]+T?P[_-O.size[0]]:P[2*T+O.size[0]-_-1]}else for(_=0;_<F;_++)Q[_]=_<O.size[0]?O.value:_<O.size[0]+T?P[_-O.size[0]]:O.value;return Q}function D(P,O){var T=P.length,F=P[0].length;throw void 0===O.size[0]&&(O.size=[O.size,O.size,O.size,O.size]),new Error("matrix not supported yet, sorry")}var L=M("extend"),E={size:1,value:0};I.exports=function(P,O){if(O=L({},E,O),Array.isArray(P))return Array.isArray(P[0])?D(P,O):R(P,O);throw new TypeError("data should be an array")}},{extend:2}],31:[function(M,I){"use strict";var D=M("ml-matrix"),A=M("ml-pad-array"),L=M("extend"),E={windowSize:5,derivative:1,polynomial:2,pad:"none",padValue:"replicate"};I.exports=function(P,O,T){if(T=L({},E,T),0==T.windowSize%2||5>T.windowSize||!Number.isInteger(T.windowSize))throw new RangeError("Invalid window size (should be odd and at least 5 integer number)");if(0>T.derivative||!Number.isInteger(T.derivative))throw new RangeError("Derivative should be a positive integer");if(1>T.polynomial||!Number.isInteger(T.polynomial))throw new RangeError("Polynomial should be a positive integer");var F,Q,_=Math.floor(T.windowSize/2);"pre"===T.pad&&(P=A(P,{size:_,value:T.padValue}));var G=Array(P.length-2*_);if(5===T.windowSize&&2===T.polynomial&&(1===T.derivative||2===T.derivative))1===T.derivative?(F=[-2,-1,0,1,2],Q=10):(F=[2,-1,-2,-1,2],Q=7);else{for(var W=D.ones(T.windowSize,T.polynomial+1),K=-(T.windowSize-1)/2,Z=0;Z<W.length;Z++)for(var $=0;$<W[Z].length;$++)(0!=K+1||0!==$)&&(W[Z][$]=Math.pow(K+Z,$));var ee=W.transposeView(),ie=ee.mmul(W).inverse();F=ie.mmul(ee),F=F[T.derivative],Q=1}for(var se,te=Q*Math.pow(O,T.derivative),ne=_;ne<P.length-_;ne++){se=0;for(var oe=0;oe<F.length;oe++)se+=F[oe]*P[oe+ne-_]/te;G[ne-_]=se}return"post"===T.pad&&(G=A(G,{size:_,value:T.padValue})),G}},{extend:2,"ml-matrix":18,"ml-pad-array":30}]},{},[1]);
